<section class="card-base">
  <header>
    <h2 class="m-0">Acciones</h2>
  </header>
  <main class="m-t-16">
    <!-- Pestañas de acción -->
    <ul class="action-tabs">
      @for (action of actions; track $index) {
        <li [class.active]="currentAction.id === action.id" (click)="showAction(action)">
          {{ action.name }}
        </li>
      }
    </ul>

    <form [formGroup]="actionForm" class="form-group">
      <div class="form-field">
        <label>{{currentAction.label}}</label>
        <app-select
          [items]="currentAction.options"
          bindLabel="label"
          bindValue="value"
          formControlName="updateValue"
          [placeholder]="currentAction.selectPlaceholder"
        ></app-select>
      </div>
      <div class="form-field m-t-12">
        <label>Comentario:</label>
        <textarea
          formControlName="comment"
          [placeholder]="currentAction.commentPlaceholder"
          style="resize: none"
          rows="8"
        ></textarea>
      </div>
      <div class="d-flex justify-content-end gap-12 m-t-12">
        <button type="button" class="btn-secondary" (click)="cancelAction()">Cancelar</button>
        <button
          type="button"
          class="btn-primary"
          (click)="submitAction()"
          [disabled]="!actionForm.get('updateValue')?.valid"
        >
          Aplicar
        </button>
      </div>
    </form>
  </main>
</section>
